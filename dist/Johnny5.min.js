var Johnny5=function(a){"use strict";function b(a,b){var c,d=document.createElement("p");c="robot"===b?n:m,d.className=b;var e=document.createElement("span");e.className="name",e.innerHTML=c+":";var f=document.createElement("span");f.className="phrase",f.innerHTML=a,d.appendChild(e),d.appendChild(f),l.appendChild(d),l.scrollTop=l.scrollHeight}function c(a,b){for(var c,d=0,e=a.length;e>d;d++){var f=a[d];if(c=a[d].goTo,"function"==typeof f.answer&&f.answer(b)||f.answer===b)break}return h.questions[c]}function d(a,d){var e;a.answers?(e=a.answers,j=a):e=j.answers,a=c(e,d),i=a,b(i.phrase,"robot")}function e(){k.addEventListener("keypress",function(a){if(13===a.keyCode){var c=k.value;k.value="",b(c,"user"),setTimeout(function(){d(i,c)},500)}})}function f(a){h=a.conversation,k=a.input,l=a.output,i=h.questions[h.startPhrase],n=a.robotName,m=a.userName}function g(){b(i.phrase,"robot"),e()}var h,i,j,k,l,m,n;return f(a),{start:g}};